{"version":3,"file":"live-edit2.js","sources":["webpack://microweber-webpack/./userfiles/modules/microweber/api/classes/dialog.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/classes/dom.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/classes/element.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/classes/object.service.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/analizer.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/draggable.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/drop-position.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/element-analizer.service.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handle-menu.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handle.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handles-content/element.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handles-content/layout.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handles-content/module.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/handles.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/i18n.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/interact.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/mode-auto.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/pointer.js","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/tooltip.js","webpack://microweber-webpack/webpack/bootstrap","webpack://microweber-webpack/webpack/runtime/define property getters","webpack://microweber-webpack/webpack/runtime/hasOwnProperty shorthand","webpack://microweber-webpack/webpack/runtime/make namespace object","webpack://microweber-webpack/./userfiles/modules/microweber/api/liveedit2/@live.js"],"sourcesContent":["import {ElementManager} from \"../classes/element\";\n\nconst dialogFooter = (okLabel, cancelLabel) => {\n    const footer = ElementManager({\n        props: {\n            className: 'le-dialog-footer'\n        }\n    });\n\n    const ok = ElementManager({\n        props: {\n            className: 'le-btn le-btn-primary le-dialog-footer-ok',\n            innerHTML: okLabel || 'OK'\n        }\n    });\n\n    const cancel = ElementManager({\n        props: {\n            className: 'le-btn le-dialog-footer-cancel'\n        }\n    });\n\n    footer.append(cancel);\n    footer.append(ok);\n\n    return  {\n        ok, cancel, footer\n    }\n}\n\nexport class Dialog {\n    constructor(options) {\n        this.document = document;\n        options = options || {}\n        const defaults = {\n            content: null,\n            overlay: true\n        }\n        this.settings = Object.assign({}, defaults, options);\n        this.build();\n        setTimeout(_ => this.open())\n    }\n    build() {\n        this.root = ElementManager({\n            props: {\n                className: 'le-dialog',\n\n            }\n        });\n        var closeBtn = ElementManager({\n            props: {\n                className: 'le-dialog-close',\n            }\n        });\n        closeBtn.on('click', () => {\n            this.remove();\n        });\n        this.container = ElementManager({\n            props: {\n                className: 'le-dialog-container'\n            },\n            content: this.settings.content\n        })\n        this.root.append(closeBtn);\n        this.root.append(this.container);\n        if(this.settings.footer) {\n            this.root.append(this.settings.footer.root || this.settings.footer);\n        }\n        this.settings.document.body.appendChild(this.root.get(0))\n        if (this.settings.overlay) {\n            this.overlay()\n        }\n    }\n    open() {\n        this.root.addClass('le-dialog-opened')\n    }\n    remove() {\n        this.root.remove()\n        if(this.overlay){\n            this.overlay.remove()\n        }\n    }\n    overlay() {\n        this.overlay = ElementManager({\n            props: {\n                className: 'le-dialog-overlay'\n            }\n        })\n        this.settings.document.body.appendChild(this.overlay.get(0))\n    }\n\n}\n\n\nexport const Confirm = function (content, c) {\n    const footer = dialogFooter();\n    const dialog = new Dialog({\n        content, footer\n    });\n    footer.cancel.on('click', function (){\n        dialog.remove()\n    })\n    footer.ok.on('click', function (){\n        if(c){\n            c.call()\n        }\n        dialog.remove()\n    });\n    return dialog\n}\n\nexport const Alert = function (text) {\n    return new Dialog({\n        content: text\n    })\n}\n","\r\nlet matches;\r\nconst el = document.documentElement;\r\nif(!!el.matches) matches = 'matches';\r\nelse if (!!el.matchesSelector) matches = 'matchesSelector';\r\nelse if (!!el.mozMatchesSelector) matches = 'mozMatchesSelector';\r\nelse if (!!el.webkitMatchesSelector) matches = 'webkitMatchesSelector';\r\n\r\nexport class DomService {\r\n    static _isBlockCache = {};\r\n    static _fragment;\r\n\r\n    static fragment (){\r\n        if(!this._fragment){\r\n            this._fragment = document.createElement('div');\r\n            this._fragment.style.visibility = 'hidden';\r\n            this._fragment.style.position = 'absolute';\r\n            this._fragment.style.width = '1px';\r\n            this._fragment.style.height = '1px';\r\n            document.body.appendChild(this._fragment);\r\n        }\r\n        return this._fragment;\r\n    }\r\n\r\n    static matches(node, selector) {\r\n        return node[matches](selector)\r\n    }\r\n\r\n\r\n    static isBlockLevel (node){\r\n        if(!node || node.nodeType === 3){\r\n            return false;\r\n        }\r\n        var name = node.nodeName;\r\n         if(typeof this._isBlockCache[name] !== 'undefined'){\r\n            return this._isBlockCache[name];\r\n        }\r\n        var test = document.createElement(name);\r\n        this.fragment().appendChild(test);\r\n        this._isBlockCache[name] = getComputedStyle(test).display === 'block';\r\n        this.fragment().removeChild(test);\r\n        return this._isBlockCache[name];\r\n    }\r\n\r\n    static firstBlockLevel (el) {\r\n        while(el && el.classList) {\r\n            if(this.isBlockLevel(el)) {\r\n                return el;\r\n            }\r\n            el = el.parentNode;\r\n        }\r\n    }\r\n\r\n    static firstWithBackgroundImage (node) {\r\n        if (!node) {\r\n            return null;\r\n        }\r\n        while(node && node.nodeName !== 'BODY') {\r\n            if (!!node.style.backgroundImage) {\r\n                return node;\r\n            }\r\n            node = node.parentElement;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static hasAnyOfClassesOnNodeOrParent(node, arr) {\r\n        while (node && node.nodeName !== 'BODY') {\r\n            let i = 0, l = arr.length;\r\n            for ( ; i < l ; i++ ) {\r\n                if (node.classList.contains(arr[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n            node = node.parentElement;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static hasParentsWithClass (el, cls) {\r\n        if (!el) return;\r\n        var curr = el.parentNode;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (curr.classList.contains(cls)) {\r\n                return true;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static hasParentWithId (el, id) {\r\n        if (!el) return;\r\n        var curr = el.parentNode;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (curr.id === id) {\r\n                return true;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static firstWithAyOfClassesOnNodeOrParent(node, arr) {\r\n        while (node && node.nodeName !== 'BODY') {\r\n            let i = 0, l = arr.length;\r\n            for ( ; i < l ; i++ ) {\r\n                if (node.classList.contains(arr[i])) {\r\n                    return node;\r\n                }\r\n            }\r\n            node = node.parentElement;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static firstParentOrCurrentWithTag (el, tag) {\r\n        if (!el || !tag) return;\r\n        tag = typeof tag !== 'string' ? tag : [tag];\r\n        var curr = el;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (tag.indexOf(curr.nodeName.toLowerCase()) !== -1) {\r\n                return curr;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static index(el, parent, selector) {\r\n        selector = selector || el.tagName.toLowerCase();\r\n        parent = parent || el.parentNode;\r\n        var all;\r\n        if (parent.constructor === [].constructor) {\r\n            all = parent;\r\n        }\r\n        else {\r\n            all = parent.querySelectorAll(selector)\r\n        }\r\n        var i = 0, l = all.length;\r\n        for (; i < l; i++) {\r\n            if (el === all[i]) return i;\r\n        }\r\n    }\r\n\r\n    static firstParentOrCurrentWithClass (el, cls) {\r\n        if (!el) return false;\r\n        var curr = el;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (curr.classList.contains(cls)) {\r\n                return curr;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n    static firstParentOrCurrent (el, selector) {\r\n        if (!el) return false;\r\n        var curr = el;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (curr.matches(selector)) {\r\n                return curr;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static firstParentOrCurrentWithAnyOfClasses (node, arr) {\r\n        if (!node) return false;\r\n        var curr = node;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            if (!curr) return false;\r\n            if (this.hasAnyOfClasses(curr, arr)) {\r\n                return curr;\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static parentsOrCurrentOrderMatchOrOnlyFirst (node, arr) {\r\n        let curr = node;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            const h1 = curr.classList.contains(arr[0]);\r\n            const h2 = curr.classList.contains(arr[1]);\r\n            if (h1 && h2) {\r\n                return false;\r\n            }\r\n            else {\r\n                if (h1) {\r\n                    return true;\r\n                }\r\n                else if (h2) {\r\n                    return false;\r\n                }\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static parentsOrCurrentOrderMatchOrOnlyFirstOrNone (node, arr) {\r\n        let curr = node;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n\r\n            const h1 = curr.classList.contains(arr[0]);\r\n            const h2 = curr.classList.contains(arr[1]);\r\n            if (h1 && h2) {\r\n                return false;\r\n            } else {\r\n                if (h1) {\r\n                    return true;\r\n                } else if (h2) {\r\n                    return false;\r\n                }\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    static hasAnyOfClasses (node, arr) {\r\n        if (!node) return;\r\n        let i = 0, l = arr.length;\r\n        for (; i < l; i++) {\r\n            if (node.classList.contains(arr[i])) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static offset (node) {\r\n        if(!node) return;\r\n        var off = node.getBoundingClientRect();\r\n        var res = {top: off.top , left: off.left, width: off.width, height: off.height, bottom: off.bottom, right: off.right};;\r\n        res.top += node.ownerDocument.defaultView.scrollY;\r\n        res.bottom += node.ownerDocument.defaultView.scrollY;\r\n        res.left += node.ownerDocument.defaultView.scrollX;\r\n        res.right += node.ownerDocument.defaultView.scrollX;\r\n        return res;\r\n    }\r\n    static parentsOrder (node, arr) {\r\n        var only_first = [];\r\n        var obj = {}, l = arr.length, i = 0, count = -1;\r\n        for (; i < l; i++) {\r\n            obj[arr[i]] = -1;\r\n        }\r\n        if (!node) return obj;\r\n\r\n        var curr = node.parentNode;\r\n        while (curr && curr.nodeName !== 'BODY') {\r\n            count++;\r\n            i = 0;\r\n            for ( ; i < l; i++) {\r\n                if (curr.classList.contains(arr[i]) && only_first.indexOf(arr[i]) === -1) {\r\n                    obj[arr[i]] = count;\r\n                    only_first.push(arr[i]);\r\n                }\r\n            }\r\n            curr = curr.parentNode;\r\n        }\r\n        return obj;\r\n    }\r\n\r\n\r\n}\r\n","import {ObjectService} from \"./object.service\";\r\n\r\n\r\n\r\n    var MWElement = function(options, root){\r\n        var scope = this;\r\n\r\n        this.isMWElement = true;\r\n\r\n        this.toggle = function () {\r\n            this.css('display', this.css('display') === 'none' ? 'block' : 'none');\r\n        };\r\n\r\n        this._active = function () {\r\n            return this.nodes[this.nodes.length - 1];\r\n        };\r\n\r\n        this.getDocument = function () {\r\n            return this._active().ownerDocument;\r\n        }\r\n\r\n        this.getWindow = function () {\r\n            return this.getDocument().defaultView;;\r\n        }\r\n\r\n        this.get = function(selector, scope){\r\n            this.nodes = (scope || document).querySelectorAll(selector);\r\n        };\r\n\r\n        this.each = function(cb){\r\n            if(this.nodes) {\r\n                for (var i = 0; i < this.nodes.length; i++) {\r\n                    cb.call(this.nodes[i], i);\r\n                }\r\n            } else if(this.node) {\r\n                cb.call(this.node, 0);\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.encapsulate = function () {\r\n\r\n        };\r\n\r\n        var contentManage = function (content, scope) {\r\n            if (content) {\r\n                if (Array.isArray(content)) {\r\n                    content.forEach(function (el){\r\n                        contentManage(el, scope);\r\n                    });\r\n                } else if (content instanceof MWElement) {\r\n                    scope.append(content);\r\n                } else if (typeof content === 'object') {\r\n                    scope.append(new MWElement(content));\r\n                }\r\n            }\r\n        }\r\n\r\n        this.create = function() {\r\n            var el = this.document.createElement(this.settings.tag);\r\n            this.node = el;\r\n\r\n            if (this.settings.encapsulate === true) {\r\n                var mode = this.settings.encapsulate === true ? 'open' : this.settings.encapsulate;\r\n                el.attachShadow({\r\n                    mode: mode\r\n                });\r\n            }\r\n            this.nodes = [el];\r\n\r\n            if (this.settings.content) {\r\n                contentManage(this.settings.content, this)\r\n            }\r\n        };\r\n\r\n        this._specialProps = function(dt, val){\r\n            if(dt === 'tooltip') {\r\n                this.node.dataset[dt] = val;\r\n                return true;\r\n            }\r\n        };\r\n\r\n        this.setProps = function(){\r\n            for(var i in this.settings.props) {\r\n                if (i === 'dataset') {\r\n                    for(var dt in this.settings.props[i]) {\r\n                        this.node.dataset[dt] = this.settings.props[i][dt];\r\n                    }\r\n                } else if (i === 'style') {\r\n                    for(var st in this.settings.props[i]) {\r\n                        this.node.style[st] = this.settings.props[i][st];\r\n                    }\r\n                } else {\r\n                    var val = this.settings.props[i];\r\n                    if(!this._specialProps(i, val)) {\r\n                        this.node[i] = val;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.__ = {\r\n            cssNumber: [\r\n                'animationIterationCount',\r\n                'columnCount',\r\n                'fillOpacity',\r\n                'flexGrow',\r\n                'flexShrink',\r\n                'fontWeight',\r\n                'gridArea',\r\n                'gridColumn',\r\n                'gridColumnEnd',\r\n                'gridColumnStart',\r\n                'gridRow',\r\n                'gridRowEnd',\r\n                'gridRowStart',\r\n                'lineHeight',\r\n                'opacity',\r\n                'order',\r\n                'orphans',\r\n                'widows',\r\n                'zIndex',\r\n                'zoom'\r\n            ]\r\n        };\r\n\r\n        this._normalizeCSSValue = function (prop, val) {\r\n            if(typeof val === 'number') {\r\n                if(this.__.cssNumber.indexOf(prop) === -1) {\r\n                    val = val + 'px';\r\n                }\r\n            }\r\n            return val;\r\n        };\r\n\r\n        this.css = function(css, val){\r\n            if(typeof css === 'string') {\r\n                if(typeof val !== 'undefined'){\r\n                    var nval =  this._normalizeCSSValue(css, val);\r\n                    this.each(function (){\r\n                        this.style[css] = nval;\r\n                    });\r\n                } else {\r\n                    return this.document.defaultView.getComputedStyle(this.node)[css];\r\n                }\r\n            }\r\n            if(typeof css === 'object') {\r\n                for (var i in css) {\r\n\r\n                    this.each(function (){\r\n                        this.style[i] = scope._normalizeCSSValue(i, css[i]);\r\n                    });\r\n                }\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.dataset = function(prop, val){\r\n            if(typeof val === 'undefined') {\r\n                return this._active()[prop];\r\n            }\r\n            this.each(function (){\r\n                this.dataset[prop] = val;\r\n            });\r\n            return this;\r\n        };\r\n\r\n        this.attr = function(prop, val){\r\n            if(typeof val === 'undefined') {\r\n                return this._active()[prop];\r\n            }\r\n            this.each(function (){\r\n                this.setAttribute(prop, val);\r\n            });\r\n            return this;\r\n        };\r\n\r\n        this.val = function(val){\r\n            if(typeof val === 'undefined') {\r\n                return this._active().value;\r\n            }\r\n            this.each(function (){\r\n                this.value = val;\r\n            });\r\n            return this;\r\n        };\r\n\r\n        this.prop = function(prop, val){\r\n            var active = this._active();\r\n            if(typeof val === 'undefined') {\r\n                return active[prop];\r\n            }\r\n            if(active[prop] !== val){\r\n                active[prop] = val;\r\n                this.trigger('propChange', [prop, val]);\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.hide = function () {\r\n            return this.each(function (){\r\n                this.style.display = 'none';\r\n            });\r\n        };\r\n        this.show = function () {\r\n            return this.each(function (){\r\n                this.style.display = '';\r\n            });\r\n        };\r\n\r\n        this.find = function (sel) {\r\n            var el = mw.element('#r' + new Date().getTime());\r\n            this.each(function (){\r\n                var all = this.querySelectorAll(sel);\r\n                for(var i = 0; i < all.length; i++) {\r\n                    if(el.nodes.indexOf(all[i]) === -1) {\r\n                        el.nodes.push(all[i]);\r\n                    }\r\n                }\r\n            });\r\n            return el;\r\n        };\r\n\r\n        this.addClass = function (cls) {\r\n            cls = cls.trim().split(' ');\r\n            return this.each(function (){\r\n                var node = this;\r\n                cls.forEach(function (singleClass){\r\n                    node.classList.add(singleClass);\r\n                });\r\n\r\n            });\r\n        };\r\n\r\n        this.toggleClass = function (cls) {\r\n            return this.each(function (){\r\n                this.classList.toggle(cls.trim());\r\n            });\r\n        };\r\n\r\n        this.removeClass = function (cls) {\r\n            var isArray = Array.isArray(cls);\r\n            if(!isArray) {\r\n                cls = cls.trim();\r\n                var isMultiple = cls.split(' ');\r\n                if(isMultiple.length > 1) {\r\n                    return this.removeClass(isMultiple)\r\n                }\r\n                return this.each(function (){\r\n                    this.classList.remove(cls);\r\n                });\r\n            } else {\r\n                return this.each(function (){\r\n                    var i = 0, l = cls.length;\r\n                    for ( ; i < l; i++) {\r\n                        this.classList.remove(cls[i]);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        this.remove = function () {\r\n            return this.each(function (){\r\n                this.remove();\r\n            });\r\n        };\r\n\r\n        this.empty = function () {\r\n            return this.html('');\r\n        };\r\n\r\n        this.html = function (val) {\r\n            if (typeof val === 'undefined') {\r\n                return this._active().innerHTML;\r\n            }\r\n            return this.each(function (){\r\n                this.innerHTML = val;\r\n            });\r\n        };\r\n        this.text = function (val, clean) {\r\n            if(typeof val === 'undefined') {\r\n                return this.node.textContent;\r\n            }\r\n            if(typeof clean === 'undefined') {\r\n                clean = true;\r\n            }\r\n            if (clean) {\r\n                val = this.document.createRange().createContextualFragment(val).textContent;\r\n            }\r\n            this.node.innerHTML = val;\r\n        };\r\n\r\n        this._asdom = function (obj) {\r\n            if (typeof obj === 'string') {\r\n                return this.document.createRange().createContextualFragment(obj);\r\n            } else if (obj.node){\r\n                return obj.node;\r\n            }\r\n            else if (obj.nodes){\r\n                return obj.nodes[obj.nodes.length - 1];\r\n            } else {\r\n                return obj;\r\n            }\r\n        };\r\n\r\n        this.offset = function () {\r\n            var curr = this._active();\r\n            var win = this.getWindow();\r\n            var rect = curr.getBoundingClientRect();\r\n            rect.offsetTop = rect.top + win.pageYOffset;\r\n            rect.offsetBottom = rect.bottom + win.pageYOffset;\r\n            rect.offsetLeft = rect.left + win.pageXOffset;\r\n            return rect;\r\n        };\r\n\r\n\r\n        this.width = function (val) {\r\n            if(val) {\r\n                return this.css('width', val);\r\n            }\r\n            return this._active().offsetWidth;\r\n        };\r\n\r\n        this.height = function (val) {\r\n            if(val) {\r\n                return this.css('height', val);\r\n            }\r\n            return this._active().offsetHeight;\r\n        };\r\n\r\n        this.parent = function () {\r\n            return mw.element(this._active().parentNode);\r\n        };\r\n        this.parents = function (selector) {\r\n            selector = selector || '*';\r\n            var el = this._active();\r\n            var curr = el.parentElement;\r\n            var res = mw.element();\r\n            res.nodes = []\r\n            while (curr) {\r\n                if(curr.matches(selector)) {\r\n                    res.nodes.push(curr);\r\n                }\r\n                curr = curr.parentElement;\r\n            }\r\n            return res;\r\n        };\r\n        this.append = function (el) {\r\n\r\n            if (el) {\r\n                this.each(function (){\r\n                    this.append(scope._asdom(el));\r\n                });\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.before = function (el) {\r\n            if (el) {\r\n                this.each(function (){\r\n                    if(this.parentNode){\r\n                        this.parentNode.insertBefore(scope._asdom(el), this);\r\n                    }\r\n                });\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.after = function (el) {\r\n            if (el) {\r\n                this.each(function (){\r\n                    if(this.parentNode) {\r\n                        this.parentNode.insertBefore(scope._asdom(el), this.nextSibling);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        this.prepend = function (el) {\r\n            if (el) {\r\n                this.each(function (){\r\n                    this.prepend(scope._asdom(el));\r\n                });\r\n            }\r\n            return this;\r\n        };\r\n        this._disabled = false;\r\n\r\n        Object.defineProperty(this, \"disabled\", {\r\n            get : function () { return this._disabled; },\r\n            set : function (value) {\r\n                this._disabled = value;\r\n                this.node.disabled = this._disabled;\r\n                this.node.dataset.disabled = this._disabled;\r\n            }\r\n        });\r\n\r\n        this.trigger = function(event, data){\r\n            data = data || {};\r\n            this.each(function (){\r\n                this.dispatchEvent(new CustomEvent(event, {\r\n                    detail: data,\r\n                    cancelable: true,\r\n                    bubbles: true\r\n                }));\r\n                if(scope._on[event]) {\r\n                    scope._on[event].forEach(function(cb){\r\n                        cb.call(this, event, data);\r\n                    });\r\n                }\r\n            });\r\n            return this;\r\n        };\r\n\r\n        this.get = function (i) {\r\n            return this.nodes[i];\r\n        };\r\n\r\n        this._on = {};\r\n        this.on = function(events, cb){\r\n            events = events.trim().split(' ');\r\n            events.forEach(function (ev) {\r\n                if(!scope._on[ev]) {  scope._on[ev] = []; }\r\n                scope._on[ev].push(cb);\r\n                scope.each(function (){\r\n                    /*this.addEventListener(ev, function(e) {\r\n                        cb.call(scope, e, e.detail, this);\r\n                    }, false);*/\r\n                    this.addEventListener(ev, cb, false);\r\n                });\r\n            });\r\n            return this;\r\n        };\r\n        this.init = function(){\r\n            this.nodes = [];\r\n            this.root = root || document;\r\n            if(this.root instanceof MWElement) {\r\n                this.root = this.root.get(0)\r\n            }\r\n            this._asElement = false;\r\n            this.document =  (this.root.body ? this.root : this.root.ownerDocument);\r\n\r\n            options = options || {};\r\n\r\n            if(options.nodeName && options.nodeType) {\r\n                this.nodes.push(options);\r\n                this.node = (options);\r\n                options = {};\r\n                this._asElement = true;\r\n            } else if(typeof options === 'string') {\r\n                if(options.indexOf('<') === -1) {\r\n\r\n                    this.nodes = Array.prototype.slice.call(this.root.querySelectorAll(options));\r\n                    options = {};\r\n                    this._asElement = true;\r\n                } else if(this.settings.content instanceof MWElement) {\r\n                    this.append(this.settings.content);\r\n                }  else if(typeof this.settings.content === 'object') {\r\n                    this.append(new MWElement(this.settings.content));\r\n                }else {\r\n                    var el = this._asdom(options);\r\n\r\n                    this.nodes = [].slice.call(el.children);\r\n                    this._asElement = true;\r\n                }\r\n            }\r\n\r\n            options = options || {};\r\n\r\n            var defaults = {\r\n                tag: 'div',\r\n                props: {}\r\n            };\r\n\r\n            this.settings = ObjectService.extend({}, defaults, options);\r\n\r\n            if(this._asElement) return;\r\n            this.create();\r\n            this.setProps();\r\n        };\r\n        this.init();\r\n    };\r\nconst DomQuery = function(options, root){\r\n    return new MWElement(options, root);\r\n};\r\nDomQuery.module = function (name, func) {\r\n    MWElement.prototype[name] = func;\r\n};\r\n\r\n\r\n\r\n\r\nconst nodeName = 'mw-le-element';\r\nif (window.customElements && !customElements.get(nodeName)) {\r\n    customElements.define( nodeName,\r\n        class extends HTMLElement {\r\n            constructor() {\r\n                super();\r\n            }\r\n        }\r\n    );\r\n}\r\nexport const ElementManager = (config, root) => {\r\n    if (config instanceof Object && !config.nodeType) {\r\n        config = ObjectService.extend({}, config || {}, { tag: config.tag || nodeName });\r\n    }\r\n    return DomQuery(config, root)\r\n}\r\n","export class ObjectService {\r\n    static extend () {\r\n        const extended = {};\r\n        let deep = false;\r\n        let i = 0;\r\n        const l = arguments.length;\r\n\r\n        if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\r\n            deep = arguments[0];\r\n            i++;\r\n        }\r\n        const merge = function (obj) {\r\n            for ( const prop in obj ) {\r\n                if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\r\n                    if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\r\n                        extended[prop] = ObjectService.extend( true, extended[prop], obj[prop] );\r\n                    } else {\r\n                        extended[prop] = obj[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        for ( ; i < l; i++ ) {\r\n            const obj = arguments[i];\r\n            merge(obj);\r\n        }\r\n        return extended;\r\n\r\n    }\r\n}\r\n","import {ElementAnalyzerServiceBase} from './element-analizer.service'\r\n\r\nexport class DroppableElementAnalyzerService extends ElementAnalyzerServiceBase  {\r\n\r\n    constructor(settings) {\r\n        super(settings);\r\n        this.settings = settings;\r\n        this._tagsCanAccept = ['DIV', 'ARTICLE', 'ASIDE', 'FOOTER', 'HEADER', 'MAIN', 'SECTION', 'DD', 'LI', 'TD', 'FORM'];\r\n        this.init();\r\n    }\r\n\r\n    isConfigurable (target) {\r\n        return this.isElement(target) || this.isModule(target) || this.isRow(target);\r\n    }\r\n\r\n    isEditableLayout (node) {\r\n        return this.this.isLayout(node) && this.isInEdit(node);\r\n    }\r\n\r\n    canMoveModule (node) {\r\n        return this.isModule(node) && this.isInEdit(node);\r\n    }\r\n\r\n\r\n    canAcceptByClass (node) {\r\n        return this.tools.hasAnyOfClasses(node, this.dropableElements());\r\n    }\r\n\r\n    canAcceptByTag (node) {\r\n        if(!node || node.nodeType !== 1) return false;\r\n        return this._tagsCanAccept.indexOf(node.nodeName) !== -1;\r\n    }\r\n\r\n    allowDrop (node) {\r\n        return this.tools.parentsOrCurrentOrderMatchOrOnlyFirstOrNone(node, [this.settings.allowDrop, this.settings.nodrop]);\r\n    }\r\n\r\n    canInsertBeforeOrAfter (node) {\r\n        return this.canAccept(node.parentNode);\r\n    }\r\n\r\n    canAccept (target) {\r\n        // whether or not \"target\" can accept elements\r\n        return !!(\r\n            this.canAcceptByClass(target) &&\r\n            this.isEditOrInEdit(target) &&\r\n            this.allowDrop(target));\r\n\r\n    }\r\n\r\n    canReceiveElements(target) {\r\n        return this.isEdit(target) && this.canAcceptByTag(target);\r\n    }\r\n\r\n    dropableElements (){\r\n        return this._dropableElements;\r\n    }\r\n\r\n    getIteractionTarget(node) {\r\n        return this.tools.firstWithAyOfClassesOnNodeOrParent(node, [\r\n            this.settings.elementClass,\r\n            this.settings.editClass,\r\n            this.settings.moduleClass,\r\n        ]);\r\n    }\r\n\r\n    getTarget (node, draggedElement) {\r\n\r\n        const target = this.getIteractionTarget(node);\r\n        if(!target || !this.isEditOrInEdit(node) || !this.allowDrop(node)) {\r\n            return null;\r\n        }\r\n        const res = {\r\n            target,\r\n            canInsert: false,\r\n            beforeAfter: false\r\n        }\r\n\r\n        var draggedElementIsLayoutRestricted = this.settings.strictLayouts && this.isLayout(draggedElement);\r\n        var isStrictCase = this.settings.strict && !this.isLayout(draggedElement) && !this.isInLayout(target);\r\n\r\n        if(isStrictCase) {\r\n            return null;\r\n        }\r\n\r\n        if (this.isEdit(target)) {\r\n            res.canInsert = !draggedElementIsLayoutRestricted;\r\n        } else if ( this.isElement(target) && !draggedElementIsLayoutRestricted  ) {\r\n            if (this.canAcceptByTag(target)) {\r\n                res.canInsert = !draggedElementIsLayoutRestricted;\r\n            }\r\n            res.beforeAfter = true;\r\n        } else if(this.isModule(target) && !draggedElementIsLayoutRestricted) {\r\n            if(this.canInsertBeforeOrAfter(target)) {\r\n                res.beforeAfter = true;\r\n            } else {\r\n                return null;\r\n            }\r\n        } else if(this.isLayout(target)) {\r\n            if(this.canInsertBeforeOrAfter(target)) {\r\n              res.beforeAfter = true;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    init () {\r\n        this._dropableElements = [\r\n            this.settings.elementClass,\r\n            this.settings.cloneableClass,\r\n            this.settings.editClass,\r\n            this.settings.moduleClass,\r\n            this.settings.colClass,\r\n            this.settings.allowDrop,\r\n        ];\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","\r\nimport {ObjectService} from '../classes/object.service';\r\nimport {DroppableElementAnalyzerService} from \"./analizer\";\r\n import {DropPosition} from \"./drop-position\";\r\nimport {ElementManager} from \"../classes/element\";\r\n\r\nexport const Draggable = function (options, rootSettings) {\r\n    var defaults = {\r\n        handle: null,\r\n        element: null,\r\n        document: document,\r\n        helper: true\r\n    };\r\n\r\n    var scope = this;\r\n\r\n    var _e = {};\r\n\r\n    this.on = function (e, f) { _e[e] ? _e[e].push(f) : (_e[e] = [f]) };\r\n    this.dispatch = function (e, f) { _e[e] ? _e[e].forEach(function (c){ c.call(this, f); }) : ''; };\r\n\r\n    var stop = true;\r\n\r\n    var scroll = function (step) {\r\n        scope.settings.document.body.style.scrollBehavior = 'smooth';\r\n        scope.settings.document.defaultView.scrollTo(0,scope.settings.document.defaultView.scrollY + step);\r\n        scope.settings.document.body.style.scrollBehavior = '';\r\n    }\r\n\r\n    this.config = function () {\r\n        this.settings = ObjectService.extend({}, defaults, options);\r\n        if(!this.settings.target) {\r\n            this.settings.target = this.settings.document.body;\r\n        }\r\n        this.setElement(this.settings.element);\r\n        this.dropIndicator = this.settings.dropIndicator;\r\n    };\r\n    this.setElement = function (node) {\r\n        this.element = ElementManager(node)/*.prop('draggable', true)*/.get(0);\r\n        if(!this.settings.handle) {\r\n            this.settings.handle = this.settings.element;\r\n        }\r\n        this.handle = this.settings.handle;\r\n        this.handle.attr('draggable', 'true')\r\n    };\r\n\r\n    this.setTargets = function (targets) {\r\n        this.targets = ElementManager(targets);\r\n    };\r\n\r\n    this.addTarget = function (target) {\r\n        this.targets.push(target);\r\n    };\r\n\r\n    this.init = function () {\r\n        this.config();\r\n        this.draggable();\r\n    };\r\n\r\n    this.helper = function (e) {\r\n        if(!this._helper) {\r\n            this._helper = ElementManager().get(0);\r\n            this._helper.className = 'mw-draggable-helper';\r\n            this.settings.document.body.appendChild(this._helper);\r\n        }\r\n        if (e === 'create') {\r\n            this._helper.style.top = e.pageY + 'px';\r\n            this._helper.style.left = e.pageX + 'px';\r\n            this._helper.style.width = scope.element.offsetWidth + 'px';\r\n            this._helper.style.height = scope.element.offsetHeight + 'px';\r\n            this.settings.document.documentElement.classList.add('le-dragging')\r\n            this._helper.style.display = 'block';\r\n        } else if(e === 'remove' && this._helper) {\r\n            this._helper.style.display = 'none';\r\n            this.settings.document.documentElement.classList.remove('le-dragging')\r\n        } else if(this.settings.helper && e) {\r\n            this._helper.style.top = e.pageY + 'px';\r\n            this._helper.style.left = e.pageX + 'px';\r\n            this._helper.style.maxWidth = (scope.settings.document.defaultView.innerWidth - e.pageX - 40) + 'px';\r\n            this.settings.document.documentElement.classList.add('le-dragging')\r\n        }\r\n        return this._helper;\r\n    };\r\n\r\n    this.isDragging = false;\r\n    this.dropableService = new DroppableElementAnalyzerService(rootSettings);\r\n\r\n    this.dropPosition = DropPosition;\r\n\r\n    this.draggable = function () {\r\n         ElementManager(this.settings.target).on('dragleave', function (e) {\r\n             scope.dropIndicator.hide()\r\n         })\r\n         ElementManager(this.settings.target).on('dragover', function (e) {\r\n             scope.target = null;\r\n             scope.action = null;\r\n             if(e.target !== scope.element || !scope.element.contains(e.target)) {\r\n                 var targetAction = scope.dropableService.getTarget(e.target, scope.element);\r\n                 console.log(targetAction)\r\n                 if (targetAction && targetAction !== scope.element) {\r\n                     const pos = scope.dropPosition(e, targetAction);\r\n                      if(pos) {\r\n                         scope.target = targetAction.target;\r\n                         scope.action = pos.action;\r\n                         scope.dropIndicator.position(scope.target, pos.action + '-' + pos.position)\r\n                     } else {\r\n                         scope.dropIndicator.hide();\r\n                     }\r\n                 } else {\r\n                     scope.dropIndicator.hide();\r\n                 }\r\n                 if (scope.isDragging) {\r\n                     scope.dispatch('dragOver', {element: scope.element, event: e});\r\n                     e.preventDefault();\r\n                 }\r\n             }\r\n        }).on('drop', function (e) {\r\n            if (scope.isDragging) {\r\n                e.preventDefault();\r\n                if (scope.target && scope.action) {\r\n                    ElementManager(scope.target)[scope.action](scope.element);\r\n                }\r\n                scope.dropIndicator.hide();\r\n                scope.dispatch('drop', {element: scope.element, event: e});\r\n            }\r\n             scope.dropIndicator.hide();\r\n        });\r\n        this.handle\r\n            .on('dragstart', function (e) {\r\n                scope.isDragging = true;\r\n                if (!scope.element.id) {\r\n                    scope.element.id = ('mw-element-' + new Date().getTime());\r\n                }\r\n                 scope.element.classList.add('mw-element-is-dragged');\r\n                e.dataTransfer.setData(\"text\", scope.element.id);\r\n                e.dataTransfer.effectAllowed = \"move\";\r\n\r\n                scope.helper('create');\r\n                scope.dispatch('dragStart',{element: scope.element, event: e});\r\n            })\r\n            .on('drag', function (e) {\r\n                var scrlStp = 90;\r\n                var step = 5;\r\n                if (e.clientY < scrlStp) {\r\n                    scroll(-step)\r\n                }\r\n                if (e.clientY > (innerHeight - (scrlStp + ( this._helper ? this._helper.offsetHeight + 10 : 0)))) {\r\n                    scroll(step)\r\n                }\r\n                e.dataTransfer.dropEffect = \"copy\";\r\n                scope.dispatch('drag',{element: scope.element, event: e});\r\n                scope.helper(e)\r\n\r\n            })\r\n            .on('dragend', function (e) {\r\n                scope.isDragging = false;\r\n                scope.element.classList.remove('mw-element-is-dragged');\r\n                scope.helper('remove');\r\n                scope.dispatch('dragEnd',{element: scope.element, event: e});\r\n                stop = true;\r\n            });\r\n    };\r\n    this.init();\r\n};\r\n","import {DomService} from '../classes/dom';\r\n\r\n\r\nlet prevY = -1;\r\nlet prev = null;\r\n\r\nexport const DropPosition = (e, conf) => {\r\n    if(!e || !conf) {\r\n        return false\r\n    }\r\n    const target = conf.target;\r\n    if( !target || target.nodeType !== 1) return false;\r\n    const x = e.pageX;\r\n    const y = e.pageY;\r\n\r\n    /*\r\n    *  conf { canInsert: boolean,  beforeAfter: boolean }\r\n    * */\r\n\r\n\r\n    //  if(x%2 !== 0) return false;\r\n    const rect = DomService.offset(target);\r\n    const res = {};\r\n    const distance = 15;\r\n    if( prevY  === y || !conf || (!conf.canInsert && !conf.beforeAfter)) return false;\r\n    if(conf.canInsert && conf.beforeAfter) {\r\n        if (y >= (rect.top - distance) && y <= (rect.top + distance)) {\r\n            res.position = 'top';\r\n            res.action = 'before';\r\n        } else if ( y >= (rect.top + distance) && y <= (rect.top  + (rect.height/2))) {\r\n            res.position = 'top';\r\n            res.action = 'prepend';\r\n        } else if ( y >= (rect.top + (rect.height/2)) && y <= (rect.bottom - distance)) {\r\n            res.position = 'bottom';\r\n            res.action = 'append';\r\n        }  else if ( y >= (rect.top + (rect.height/2)) && y >= (rect.bottom - distance)) {\r\n            res.position = 'bottom';\r\n            res.action = 'after';\r\n        } else {\r\n            return false;\r\n        }\r\n    } else if(conf.beforeAfter) {\r\n        if ( y >= (rect.top - distance) && y <= (rect.top  + (rect.height/2))) {\r\n            res.position = 'top';\r\n            res.action = 'before';\r\n        } else if ( y >= (rect.top + (rect.height/2)) && y <= (rect.bottom + distance)) {\r\n            res.position = 'bottom';\r\n            res.action = 'after';\r\n        } else {\r\n            return false;\r\n        }\r\n    }  else if(conf.canInsert) {\r\n        if ( y >= (rect.top - distance) && y <= (rect.top  + (rect.height/2))) {\r\n            res.position = 'top';\r\n            res.action = 'prepend';\r\n        } else if ( y >= (rect.top + (rect.height/2)) && y <= (rect.bottom + distance)) {\r\n            res.position = 'bottom';\r\n            res.action = 'append';\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return res\r\n};\r\n","\r\nimport {DomService} from '../classes/dom';\r\n\r\nexport class ElementAnalyzerServiceBase {\r\n\r\n    constructor(settings) {\r\n        this.settings = settings;\r\n        this.tools = DomService;\r\n    }\r\n\r\n    isRow (node) {\r\n        return node.classList.contains(this.settings.rowClass);\r\n    }\r\n\r\n    isModule (node) {\r\n        return node.classList.contains(this.settings.moduleClass) && node.dataset.type !== 'layouts';\r\n    }\r\n\r\n    isLayout (node) {\r\n        return node.classList.contains(this.settings.moduleClass) && node.dataset.type === 'layouts';\r\n    }\r\n\r\n    isInLayout (node) {\r\n        if(!node) {\r\n            return false;\r\n        }\r\n        node = node.parentNode;\r\n        while(node && node !== this.settings.document.body) {\r\n            if(node.classList.contains(this.settings.moduleClass) && node.dataset.type === 'layouts') {\r\n                return true;\r\n            }\r\n            node = node.parentNode\r\n        }\r\n    }\r\n\r\n    isElement (node) {\r\n        return node.classList.contains(this.settings.elementClass);\r\n    }\r\n\r\n    isEmptyElement (node) {\r\n        return node.classList.contains(this.settings.emptyElementClass);\r\n    }\r\n\r\n    isEdit (node) {\r\n        return node.classList.contains(this.settings.editClass);\r\n    }\r\n\r\n    isInEdit (node) {\r\n        var order = [\r\n            this.settings.editClass,\r\n            this.settings.moduleClass,\r\n        ];\r\n        return this.tools.parentsOrCurrentOrderMatchOrOnlyFirst(node.parentNode, order);\r\n    }\r\n\r\n    isEditOrInEdit (node) {\r\n        return this.isEdit(node) || this.isInEdit(node);\r\n    }\r\n\r\n    isPlainText (node) {\r\n        return node.classList.contains(this.settings.plainElementClass);\r\n    }\r\n\r\n    getType(node) {\r\n        if(this.isEdit(node)) {\r\n            return 'edit';\r\n        } else if(this.isElement(node)) {\r\n            return 'element';\r\n        } else if(this.isModule(node)) {\r\n            return 'module';\r\n        }  else if(this.isLayout(node)) {\r\n            return 'layout';\r\n        }\r\n    }\r\n}\r\n","import {DomService} from '../classes/dom';\r\nimport {ElementManager} from \"../classes/element\";\r\nimport {Tooltip} from \"./tooltip\";\r\n\r\nexport const HandleMenu = function(options) {\r\n\r\n    this.options = options || {};\r\n\r\n    var scope = this;\r\n\r\n    this._visible = true;\r\n    this.isVisible = function () {\r\n        return this._visible;\r\n    };\r\n\r\n    this.show = function (){\r\n        this._visible = true;\r\n        this.root.addClass(\"mw-le-handle-menu-visible\")\r\n    }\r\n\r\n    this.hide = function (){\r\n        this._visible = false;\r\n        this.root.removeClass(\"mw-le-handle-menu-visible\")\r\n    }\r\n\r\n    this.create = function(){\r\n        this.root = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu',\r\n                id: scope.options.id || 'mw-le-handle-menu-' + new Date().getTime()\r\n            }\r\n        })\r\n        this.buttonsHolder = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu-buttons'\r\n            }\r\n        })\r\n\r\n        this.root.append(this.buttonsHolder);\r\n    }\r\n    var _title, titleText, titleIcon;\r\n\r\n    var createTitle = function () {\r\n        _title = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu-title'\r\n            }\r\n        });\r\n        titleText = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu-title-text'\r\n            }\r\n        });\r\n        titleIcon = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu-title-icon'\r\n            }\r\n        });\r\n        _title.append(titleText);\r\n        _title.append(titleIcon);\r\n        scope.root.prepend(_title);\r\n        scope.title = _title\r\n    }\r\n    var _target = null;\r\n\r\n    this.getTarget = function (){\r\n        return _target;\r\n    }\r\n\r\n    this.setTarget = function (target) {\r\n        _target = target;\r\n        var i = 0;\r\n        for ( ; i < this.buttons.length; i++) {\r\n            if(this.buttons[i].config.onTarget) {\r\n                this.buttons[i].config.onTarget(target, this.buttons[i].button.get(0), scope.options.rootScope);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    this.setTitle = function (title, icon){\r\n        titleText.html(title || '');\r\n        titleIcon.html( icon || '');\r\n    }\r\n    this.buttons = [];\r\n\r\n    this.buildButtons = function (menu, btnHolder){\r\n        btnHolder = btnHolder || this.buttonsHolder;\r\n        menu = menu || this.options.buttons;\r\n        menu.forEach(function (btn){\r\n            btnHolder.append(scope.button(btn));\r\n        })\r\n    }\r\n    this.button = function (conf){\r\n        /*\r\n        * {\r\n                title: mw.lang('Settings1212'),\r\n                text: '',\r\n                icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" /></svg>',\r\n                className: 'mw-handle-insert-button',\r\n                menu: [\r\n\r\n                ],\r\n            },\r\n        *\r\n        * */\r\n        var btn = ElementManager({\r\n            props: {\r\n                className: 'mw-le-handle-menu-button' + (conf.className ? ' ' + conf.className : '')\r\n            }\r\n        });\r\n        var btnContenConf = {\r\n            props: {\r\n                className: 'mw-le-handle-menu-button-content'\r\n            }\r\n        };\r\n        var btnContent = ElementManager(btnContenConf);\r\n\r\n        if(conf.title) {\r\n            Tooltip(btnContent, conf.title);\r\n        }\r\n\r\n        if(conf.icon) {\r\n            var icon = ElementManager({\r\n                props: {\r\n                    className: 'mw-le-handle-menu-button-icon',\r\n                    innerHTML: conf.icon\r\n                }\r\n            })\r\n            btnContent.append(icon);\r\n        }\r\n        if(conf.text) {\r\n            var text = ElementManager({\r\n                props: {\r\n                    className: 'mw-le-handle-menu-button-text',\r\n                    innerHTML: conf.text\r\n                }\r\n            })\r\n            btnContent.append(text);\r\n        }\r\n\r\n\r\n        btn.append(btnContent);\r\n        this.buttons.push({\r\n            button: btn,\r\n            config: conf,\r\n        });\r\n        if(conf.menu) {\r\n            var submenu = ElementManager({\r\n                props: {\r\n                    className: 'mw-le-handle-menu-button-sub-menu'\r\n                }\r\n            });\r\n            btn.append(submenu);\r\n            scope.buildButtons(conf.menu, submenu)\r\n            btn.on('click', function(){\r\n                this.classList.toggle('sub-menu-active');\r\n            })\r\n        } else if(typeof conf.action === 'function') {\r\n            btn.on('click', function(){\r\n                conf.action(scope.getTarget(), btn.get(0), scope.options.rootScope)\r\n            })\r\n        }\r\n        return btn;\r\n    }\r\n\r\n    this.init = function () {\r\n        this.create()\r\n        createTitle();\r\n        this.setTitle(scope.options.title, scope.options.icon);\r\n        this.buildButtons();\r\n        this.hide();\r\n\r\n    }\r\n    this.init()\r\n\r\n\r\n}\r\n","import {ObjectService} from \"../classes/object.service\";\r\nimport {Draggable} from \"./draggable\";\r\nimport {DomService} from '../classes/dom';\r\nimport {ElementManager} from \"../classes/element\";\r\n\r\nexport const Handle = function (options) {\r\n\r\n    var defaults = {};\r\n\r\n    var scope = this;\r\n\r\n    this.settings = ObjectService.extend({}, defaults, options);\r\n\r\n    const _e = {};\r\n    this.on = (e, f) => { _e[e] ? _e[e].push(f) : (_e[e] = [f]) };\r\n    this.dispatch = (e, f) => { _e[e] ? _e[e].forEach( (c) => { c.call(this, f); }) : ''; };\r\n\r\n    var _visible = true;\r\n    var _currentTarget = null;\r\n\r\n    this.getTarget = function () {\r\n        return _currentTarget\r\n    }\r\n\r\n    this.isVisible = function () {\r\n        return _visible;\r\n    };\r\n\r\n    this.show = function () {\r\n        _visible = true;\r\n        this.wrapper.removeClass('mw-handle-item-hidden');\r\n    };\r\n    this.hide = function () {\r\n        _visible = false;\r\n        this.wrapper.addClass('mw-handle-item-hidden');\r\n    };\r\n    let _content = null;\r\n    this.setContent = function (content) {\r\n        if(_content){\r\n            _content.remove()\r\n        }\r\n        _content = content;\r\n        this.wrapper.append(_content);\r\n    }\r\n\r\n\r\n    this.initDraggable = function () {\r\n      this.draggable = new Draggable({\r\n          handle: this.handle,\r\n          element: null,\r\n          helper: true,\r\n          dropIndicator: this.settings.dropIndicator,\r\n          document: this.settings.document,\r\n          target: this.settings.root,\r\n          stateManager: this.settings.stateManager,\r\n          type: this.settings.type\r\n\r\n      }, options);\r\n        this.draggable.on('dragStart', function () {\r\n            scope.wrapper.addClass('mw-handle-item-dragging');\r\n        })\r\n        this.draggable.on('dragEnd', function () {\r\n            scope.wrapper.removeClass('mw-handle-item-dragging');\r\n        })\r\n    };\r\n\r\n    this.set = function (target) {\r\n        if (!target) {\r\n            _currentTarget = null;\r\n            return;\r\n        }\r\n        var off = DomService.offset(target);\r\n         this.wrapper.css({\r\n            top: off.top,\r\n            left: off.left,\r\n            width: off.width,\r\n            height: off.height,\r\n        });\r\n        this.show();\r\n        this.draggable.setElement(target);\r\n        if(_currentTarget !== target) {\r\n            _currentTarget = target;\r\n            this.dispatch('targetChange', target);\r\n        }\r\n    };\r\n\r\n    this.createHandle = function () {\r\n        if (this.settings.handle) {\r\n            this.handle = this.settings.handle;\r\n        } else {\r\n            this.handle = ElementManager({\r\n                tag: 'div',\r\n                props: {\r\n                    className: 'mw-handle-item-handle',\r\n                    contentEditable: false,\r\n                    draggable: true,\r\n                }\r\n            });\r\n            this.wrapper.append(this.handle);\r\n        }\r\n    }\r\n\r\n    this.createWrapper = function() {\r\n        this.wrapper = ElementManager({\r\n            tag: 'div',\r\n            props: {\r\n                className: 'mw-handle-item ' + (this.settings.className || 'mw-handle-type-default'),\r\n                id: this.settings.id || ('mw-handle-' + new Date().getTime()),\r\n                contentEditable: false\r\n            }\r\n        });\r\n\r\n        this.wrapper.on('mousedown', function () {\r\n            this.classList.remove('mw-handle-item-mouse-down')\r\n        });\r\n\r\n        ElementManager(document.body).on('mouseup touchend', function () {\r\n            scope.wrapper.removeClass('mw-handle-item-mouse-down')\r\n        });\r\n\r\n        this.settings.document.body.appendChild(this.wrapper.get(0));\r\n    };\r\n\r\n    this.createWrapper();\r\n    this.createHandle();\r\n    this.initDraggable();\r\n    if(this.settings.content) {\r\n        this.setContent(this.settings.content);\r\n    }\r\n    this.hide()\r\n};\r\n","import {HandleMenu} from \"../handle-menu\";\r\nimport {ElementManager} from \"../../classes/element\";\r\n\r\nexport const ElementHandleContent = function (proto) {\r\n    this.root = ElementManager({\r\n        props: {\r\n            id: 'mw-handle-item-element-root'\r\n        }\r\n    });\r\n    this.menu = new HandleMenu({\r\n        id: 'mw-handle-item-element-menu',\r\n        title: 'Element',\r\n        buttons: [\r\n            {\r\n                title: 'Settings' ,\r\n                text: '',\r\n                icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" /></svg>',\r\n                className: 'mw-handle-insert-button',\r\n                onTarget: function (target, selfNode) {\r\n                    // console.log(target)\r\n                },\r\n                action: function (el) {\r\n\r\n                    proto.dialog({\r\n\r\n                    })\r\n                }\r\n            },\r\n            {\r\n                title: proto.lang('Delete'),\r\n                text: '',\r\n                icon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"#ff0000\" d=\"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z\" /></svg>',\r\n                className: 'mw-handle-insert-button',\r\n                action: function (el) {\r\n\r\n                }\r\n            }\r\n        ],\r\n    });\r\n\r\n    this.menu.show()\r\n\r\n    this.root.append(this.menu.root)\r\n\r\n\r\n}\r\n\r\n","import {HandleMenu} from \"../handle-menu\";\nimport {ElementManager} from \"../../classes/element\";\nimport {Confirm} from \"../../classes/dialog\";\n\nconst _getModulesDataCache = {};\n\nexport const getModulesData = (u) => {\n    return new Promise(resolve => {\n       if(Array.isArray(u)) {\n           resolve(u)\n       } else if(typeof u === 'string') {\n           if(_getModulesDataCache[u]) {\n               resolve(_getModulesDataCache[u])\n           } else {\n               fetch(u, {mode: 'cors'}).then(res => res.json()).then(res => {\n                   _getModulesDataCache[u] = res;\n                   resolve( res )\n               })\n           }\n       }\n    });\n}\n\nconst singleModuleItemRender = (data, type) => {\n    const el = ElementManager({\n        props: {\n            className: 'le-selectable-items-list-item',\n            moduleId: data.id,\n        },\n        content: [\n            {\n                props: { className: 'le-selectable-items-list-image', style: { backgroundImage: 'url(' + (data.icon || data.screenshot) + ')' }},\n\n            },\n            {\n                props: {\n                    className: 'le-selectable-items-list-title',\n                    innerHTML: data.name,\n                }\n            }\n        ]\n    });\n\n    el.get(0).__data = data\n\n    return el;\n}\n\nconst _loadModuleCache = {}\n\nexport const loadModule = (obj, endpoint) => {\n    return new Promise(resolve => {\n        if(!obj || (!obj.id && !obj.layout_file)){\n            resolve(null);\n            return;\n        }\n        const params = {\n            ondrop: true,\n            id: obj.id || 'module-' + Date.now()\n        }\n        if(obj.module) {\n            params['data-module-name'] = obj.module;\n        } else if(obj.type === 'layout') {\n            params['data-module-name'] = 'layouts';\n            params['template'] = obj.layout_file;\n        }\n\n        const conf = {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        }\n\n\n        fetch(endpoint, conf)\n            .then(resp => resp.text())\n            .then(resp => resolve(resp))\n\n\n    })\n}\n\nexport const modulesDataRender = (data, type) => {\n    const el = ElementManager({\n        props: {\n            className: 'le-selectable-items-list le-selectable-items-list-type-' + type\n        }\n    });\n    var cats = ElementManager({\n        props: {\n            className: 'le-selectable-items-list le-selectable-items-list-type-' + type\n        }\n    })\n\n    data.forEach(function (item){\n        el.append(singleModuleItemRender(item))\n    })\n\n    return el;\n}\n\nexport const LayoutHandleContent = function (rootScope) {\n    var scope = this;\n    this.root = ElementManager({\n        props: {\n            id: 'mw-handle-item-layout-root'\n        }\n    });\n    this.menu = new HandleMenu({\n        id: 'mw-handle-item-layout-menu',\n        title: rootScope.lang('Layout'),\n        rootScope: rootScope,\n        buttons: [\n            {\n                title: rootScope.lang('Settings'),\n                text: '',\n                icon: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"21\" height=\"21\" viewBox=\"0 0 13.3 15.9\" xml:space=\"preserve\"><path d=\"M8.2,2.4L11,5.1l-8.2,8.2H0v-2.8L8.2,2.4z M11.8,4.3L9,1.6l1.4-1.4C10.5,0.1,10.7,0,10.9,0c0.2,0,0.4,0.1,0.5,0.2l1.7,1.7c0.1,0.1,0.2,0.3,0.2,0.5S13.3,2.8,13.1,3L11.8,4.3z\"/><rect y=\"14.5\" width=\"12\" height=\"1.4\"/></svg>',\n                className: 'mw-handle-insert-button',\n\n                menu: [\n                    {\n                        title: rootScope.lang('Add something'),\n                        text: rootScope.lang('Add something'),\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" /></svg>',\n                        className: 'mw-handle-insert-button',\n                    },\n                    {\n                        title: rootScope.lang('Settings1212'),\n                        text: 'Do alert',\n                        className: 'mw-handle-insert-button',\n\n                    },\n                ],\n            },\n\n            {\n                title: rootScope.lang('Clone'),\n                text: '',\n                icon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" /></svg>',\n                className: 'mw-handle-insert-button',\n                action: function (target, selfNode, rootScope) {\n                    var el = document.createElement('div');\n                    el.innerHTML = target.outerHTML;\n                    ElementManager('[id]', el).each(function(){\n                        this.id = 'le-id-' + new Date().getTime();\n                    });\n                    ElementManager(target).after(el.innerHTML);\n                    var newEl = target.nextElementSibling;\n                    mw.reload_module(newEl, function(){\n                        rootScope.statemanager.record({\n                            target: mw.tools.firstParentWithClass(target, 'edit'),\n                            value: parent.innerHTML\n                        });\n                    });\n                }\n            },\n\n            {\n                title: rootScope.lang('Move Down'),\n                text: '',\n                icon: '<svg  width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z\" /></svg>',\n                className: 'mw-handle-insert-button',\n                onTarget: function (target, selfNode, rootscope) {\n\n                    if(target.nextElementSibling === null) {\n                        selfNode.style.display = 'none';\n                    } else {\n                        selfNode.style.display = '';\n                    }\n                },\n                action: function (target, selfNode, rootScope) {\n                    rootScope.handles.get('layout').hide()\n                    var prev = target.nextElementSibling;\n                    if(!prev) return;\n                    var offTarget = target.getBoundingClientRect();\n                    var offPrev = prev.getBoundingClientRect();\n                    var to = 0;\n\n                    if (offTarget.top < offPrev.top) {\n                        to = -(offTarget.top - offPrev.top)\n                    }\n\n                    target.classList.add(\"mw-le-target-to-animate\")\n                    prev.classList.add(\"mw-le-target-to-animate\")\n\n                    target.style.transform = 'translateY('+to+'px)';\n                    prev.style.transform = 'translateY('+(-to)+'px)';\n\n                    setTimeout(function (){\n                        prev.parentNode.insertBefore(target, prev.nextSibling);\n                        target.classList.remove(\"mw-le-target-to-animate\")\n                        prev.classList.remove(\"mw-le-target-to-animate\")\n                        target.style.transform = '';\n                        prev.style.transform = '';\n                    }, 300)\n                }\n\n            },\n            {\n                title: rootScope.lang('Move up'),\n                text: '',\n                icon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z\" /></svg>',\n                className: 'mw-handle-insert-button',\n                onTarget: function (target, selfNode, rootScope) {\n                    if (target.previousElementSibling === null) {\n                        selfNode.style.display = 'none';\n                    } else {\n                        selfNode.style.display = '';\n                    }\n                },\n                action: function (target, selfNode, rootScope) {\n                    rootScope.handles.get('layout').hide()\n                    var prev = target.previousElementSibling;\n                    if(!prev) return;\n                    var offTarget = target.getBoundingClientRect();\n                    var offPrev = prev.getBoundingClientRect();\n                    var to = 0;\n\n                    if (offTarget.top > offPrev.top) {\n                        to = -(offTarget.top - offPrev.top)\n                    }\n\n                    target.classList.add(\"mw-le-target-to-animate\")\n                    prev.classList.add(\"mw-le-target-to-animate\")\n\n                    target.style.transform = 'translateY('+to+'px)';\n                    prev.style.transform = 'translateY('+(-to)+'px)';\n\n                    setTimeout(function (){\n                        prev.parentNode.insertBefore(target, prev);\n                        target.classList.remove(\"mw-le-target-to-animate\")\n                        prev.classList.remove(\"mw-le-target-to-animate\")\n                        target.style.transform = '';\n                        prev.style.transform = '';\n                    }, 300)\n                }\n            },\n\n\n            {\n                title: rootScope.lang('Delete'),\n                text: '',\n                icon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"#ff0000\" d=\"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z\" /></svg>',\n                className: 'mw-handle-insert-button',\n                action: function (target, selfNode, rootScope) {\n                    Confirm('Are you sure', function (){\n                        target.remove()\n                    })\n                }\n            },\n\n\n        ],\n    });\n\n    this.addButtons = function (){\n        if(!rootScope.settings.layouts) {\n            return;\n        }\n        var plusLabel = 'Add Layout';\n\n        var handlePlus = function (which) {\n            getModulesData(rootScope.settings.layouts).then(data => {\n                const content = modulesDataRender(data, 'layouts');\n\n                var dialog = rootScope.dialog({\n                    content: content,\n                    document: rootScope.settings.document,\n                });\n                ElementManager('.le-selectable-items-list-item', content).on('click', function (){\n                    loadModule(this.__data, rootScope.settings.loadModulesURL).then(function (data){\n                        var action;\n                        if(which === 'top') {\n                            action = 'before';\n                        } else if(which === 'bottom') {\n                            action = 'after';\n                        }\n                        ElementManager(scope.handle.getTarget())[action](data);\n                    })\n                    dialog.remove()\n                });\n            });\n        }\n\n        this.plusTop = ElementManager({\n            props: {\n                className: 'mw-handle-item-layout-plus mw-handle-item-layout-plus-top',\n                innerHTML: rootScope.lang(plusLabel)\n            }\n        });\n\n        this.plusBottom = ElementManager({\n            props: {\n                className: 'mw-handle-item-layout-plus mw-handle-item-layout-plus-bottom',\n                innerHTML: rootScope.lang(plusLabel)\n            }\n        });\n\n        this.plusTop.on('click', function (){\n            handlePlus('top')\n        });\n        this.plusBottom.on('click', function (){\n            handlePlus('bottom')\n        });\n\n        this.root.append(this.plusTop)\n        this.root.append(this.plusBottom)\n    }\n    this.menu.show()\n    this.addButtons()\n    this.root.append(this.menu.root)\n\n}\n\n","import {HandleMenu} from \"../handle-menu\";\r\nimport {ElementManager} from \"../../classes/element\";\r\n\r\nexport const ModuleHandleContent = function (rootScope) {\r\n    this.root = ElementManager({\r\n        props: {\r\n            id: 'mw-handle-item-module-root',\r\n            contentEditable: false,\r\n        }\r\n    });\r\n    this.menu = new HandleMenu({\r\n        id: 'mw-handle-item-element-menu',\r\n        title: 'Element',\r\n        rootScope: rootScope,\r\n        buttons: [\r\n            {\r\n                title:  'Settings' ,\r\n                text: '',\r\n                icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" /></svg>',\r\n                className: 'mw-handle-insert-button',\r\n                onTarget: function (target, selfNode) {\r\n                },\r\n                menu: [\r\n                    {\r\n                        title: rootScope.lang('Add something'),\r\n                        text: rootScope.lang('Add something'),\r\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z\" /></svg>',\r\n                        className: 'mw-handle-insert-button',\r\n                    },\r\n                    {\r\n                        title: rootScope.lang('Settings'),\r\n                        text: 'Do alert',\r\n                        className: 'mw-handle-insert-button',\r\n                        menu: [\r\n\r\n                        ],\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                title: rootScope.lang('Delete'),\r\n                text: '',\r\n                icon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"#ff0000\" d=\"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z\" /></svg>',\r\n                className: 'mw-handle-insert-button',\r\n                action: function (el) {\r\n\r\n                }\r\n            }\r\n        ],\r\n    });\r\n\r\n    this.menu.show()\r\n\r\n    this.root.append(this.menu.root)\r\n\r\n}\r\n\r\n","export const Handles = function (handles) {\r\n\r\n    this.handles = handles;\r\n    this.dragging = false;\r\n    var scope = this;\r\n\r\n    this.get = function (handle) {\r\n        return this.handles[handle];\r\n    }\r\n\r\n    this.set = function (handle, target){\r\n         this.get(handle).set(target)\r\n    }\r\n\r\n    this.hide = function(handle) {\r\n        if(handle && this.handles[handle]) {\r\n            this.handles[handle].hide();\r\n        } else {\r\n            this.each(function (name, h){\r\n                h.hide()\r\n            });\r\n        }\r\n    };\r\n\r\n    this.hideAllBut = function(handle) {\r\n        this.each(function (name, h){\r\n            if(name !== handle) {\r\n                h.hide()\r\n            }\r\n        });\r\n    };\r\n\r\n    this.show = function(handle) {\r\n        if (handle && this.handles[handle]) {\r\n            this.handles[handle].show();\r\n        } else {\r\n            this.each(function (name, handle){\r\n                handle.show();\r\n            });\r\n        }\r\n    };\r\n\r\n    this.each = function (c) {\r\n        if(!c) return;\r\n        var i;\r\n        for (i in this.handles) {\r\n            c.call(scope, i, this.handles[i]);\r\n        }\r\n    };\r\n\r\n    this.init = function (){\r\n        this.each(function (name, handle){\r\n            handle.draggable.on('dragStart', function (){\r\n                scope.dragging = true;\r\n                scope.hideAllBut(name)\r\n            })\r\n            handle.draggable.on('dragEnd', function (){\r\n                scope.dragging = false;\r\n                handle.show()\r\n            })\r\n        })\r\n    }\r\n\r\n    this.init();\r\n};\r\n","const i18n =  {\r\n    en: {\r\n        \"Layout\": \"Layout\",\r\n        \"Add layout\": \"Add layout\",\r\n        \"Title\": \"Title\",\r\n        \"Settings\": \"Settings\",\r\n        \"Paragraph\": \"Paragraph\",\r\n        \"Text\": \"Text\",\r\n    },\r\n    bg: {\r\n\r\n    }\r\n}\r\n\r\nexport const lang = (label, lang) => {\r\n    if(!lang || !i18n[lang]) {\r\n        lang = 'en';\r\n    }\r\n    return i18n[lang][label] || label;\r\n}\r\n","\r\nimport {ObjectService} from \"../classes/object.service\";\r\nimport {DomService} from '../classes/dom';\r\nimport {ElementManager} from \"../classes/element\";\r\n\r\nexport const DropIndicator = function (options) {\r\n\r\n    options = options || {};\r\n\r\n    const defaults = {\r\n        template: 'default'\r\n    };\r\n\r\n    let positionCache = { }\r\n\r\n    this.settings = ObjectService.extend({}, defaults, options);\r\n\r\n    this._indicator = null;\r\n\r\n    const _e = {};\r\n    this.on = function (e, f) { _e[e] ? _e[e].push(f) : (_e[e] = [f]) };\r\n    this.dispatch = function (e, f) { _e[e] ? _e[e].forEach(function (c){ c.call(this, f); }) : ''; };\r\n\r\n    this.visible = false;\r\n\r\n    this.hide = function () {\r\n        if(this.visible) {\r\n            this._indicator.addClass('mw-drop-indicator-hidden');\r\n            this.visible = false;\r\n            positionCache = {}\r\n        }\r\n    };\r\n\r\n    this.show = function () {\r\n        console.log(this.visible)\r\n        if(!this.visible) {\r\n\r\n            this._indicator.removeClass('mw-drop-indicator-hidden');\r\n        }\r\n        this.visible = true;\r\n\r\n    };\r\n\r\n    const positions = [\r\n        'before-top', 'prepend-top',\r\n        'after-bottom', 'append-bottom'\r\n    ];\r\n\r\n\r\n    const positionsPrefix = 'mw-drop-indicator-position-';\r\n\r\n    const positionsClasses = positions.map(function (cls){ return positionsPrefix + cls });\r\n\r\n    let currentPositionClass = null; // do not set if same to prevent animation stop\r\n\r\n\r\n    let _positionTime = null;\r\n\r\n    this.position = function (target, position) {\r\n        if(!target || !position) return;\r\n\r\n        if(positionCache.target === target && positionCache.position === position) {\r\n            return;\r\n        }\r\n\r\n        positionCache.target = target;\r\n        positionCache.position = position\r\n\r\n        if(currentPositionClass !== position) {\r\n            this._indicator.removeClass(positionsClasses);\r\n            currentPositionClass = position;\r\n            this._indicator.addClass(positionsPrefix + position);\r\n        }\r\n\r\n        var rect = DomService.offset(target);\r\n\r\n        this._indicator.css({\r\n            height: rect.height,\r\n            left: rect.left,\r\n            top: rect.top,\r\n            width: rect.width\r\n        });\r\n        this.show();\r\n\r\n\r\n    };\r\n\r\n    this.make = function () {\r\n        this._indicator = ElementManager();\r\n        this._indicator.html('<div class=\"mw-drop-indicator-block\"><div class=\"mw-drop-indicator-pin\"></div></div>');\r\n        this._indicator.addClass('mw-drop-indicator mw-drop-indicator-template-' + this.settings.template);\r\n        this.hide();\r\n        this.settings.document.body.appendChild(this._indicator.get(0));\r\n    };\r\n\r\n    this.init = function (){\r\n        this.make();\r\n    };\r\n\r\n    this.init();\r\n\r\n};\r\n","\r\nimport {DroppableElementAnalyzerService} from \"./analizer\";\r\nimport {DomService} from '../classes/dom';\r\n\r\n\r\nconst isRowLike = function (node) {\r\n    return DomService.matches(node, '.row,[class*=\"row-\"]');\r\n}\r\n\r\nconst isColumnLIke = function (node) {\r\n    return DomService.matches(node, '.col,[class*=\"col-\"]');\r\n}\r\nlet _fragment;\r\nconst fragment = function(){\r\n    if(!_fragment){\r\n        _fragment = document.createElement('div');\r\n        _fragment.style.visibility = 'hidden';\r\n        _fragment.style.position = 'absolute';\r\n        _fragment.style.width = '1px';\r\n        _fragment.style.height = '1px';\r\n        document.body.appendChild(_fragment);\r\n    }\r\n    return _fragment;\r\n}\r\nconst _isBlockCache = {};\r\nconst isBlockLevel = function (node) {\r\n    if(!node || node.nodeType === 3){\r\n        return false;\r\n    }\r\n    var name = node.nodeName;\r\n    if(typeof _isBlockCache[name] !== 'undefined'){\r\n        return _isBlockCache[name];\r\n    }\r\n    var test = document.createElement(name);\r\n    fragment().appendChild(test);\r\n    _isBlockCache[name] = getComputedStyle(test).display === 'block';\r\n    fragment().removeChild(test);\r\n    return _isBlockCache[name];\r\n}\r\n\r\n\r\n\r\n\r\nconst getElementsLike = (selector, root, scope) => {\r\n    selector = selector || '*';\r\n    var all = root.querySelectorAll(selector), i = 0, final = [];\r\n    for( ; i<all.length; i++){\r\n        if(!isColumnLIke(all[i]) &&\r\n            !isRowLike(all[i]) &&\r\n            !scope.elementAnalyzer.isEdit(all[i]) &&\r\n            isBlockLevel(all[i])){\r\n            final.push(all[i]);\r\n        }\r\n    }\r\n    return final;\r\n};\r\n\r\nexport const ModeAuto = (scope) => {\r\n    const {\r\n        backgroundImageHolder,\r\n        editClass,\r\n        moduleClass,\r\n        elementClass,\r\n        allowDrop\r\n    } = scope.settings;\r\n    const root = scope.root;\r\n    var selector = '*';\r\n    var bgHolders = root.querySelectorAll('.' + editClass + '.' + backgroundImageHolder + ', .' + editClass + ' .' + backgroundImageHolder + ', .'+editClass+'[style*=\"background-image\"], .'+editClass+' [style*=\"background-image\"]');\r\n    var noEditModules = root.querySelectorAll('.' + moduleClass + scope.settings.unEditableModules.join(',.' + moduleClass));\r\n    var edits = root.querySelectorAll('.' + editClass);\r\n    var i = 0, i1 = 0, i2 = 0;\r\n    for ( ; i < bgHolders.length; i++ ) {\r\n        var curr = bgHolders[i];\r\n        if( scope.elementAnalyzer.isInEdit(curr) ){\r\n            if(!mw.tools.hasClass(curr, moduleClass)) {\r\n                mw.tools.addClass(curr, editClass);\r\n            }\r\n            if(!curr.style.backgroundImage) {\r\n                curr.style.backgroundImage = 'none';\r\n            }\r\n        }\r\n    }\r\n    for ( ; i1<noEditModules.length; i1++ ) {\r\n        noEditModules[i].classList.remove(moduleClass);\r\n    }\r\n    for ( ; i2 < edits.length; i2++ ) {\r\n        var all = getElementsLike(':not(.' + elementClass + ')', edits[i2], scope), i2a = 0;\r\n\r\n        var allAllowDrops = edits[i2].querySelectorAll('.' + allowDrop), i3a = 0;\r\n        for( ; i3a < allAllowDrops.length; i3a++){\r\n            allAllowDrops[i3a].classList.add(elementClass);\r\n        }\r\n        for( ; i2a<all.length; i2a++) {\r\n            if(!all[i2a].classList.contains(moduleClass)){\r\n                if(scope.elementAnalyzer.isInEdit(all[i2a])){\r\n                    all[i2a].classList.add( elementClass );\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","import {ObjectService} from '../classes/object.service';\r\nimport {DomService} from '../classes/dom';\r\n\r\nexport const GetPointerTargets = function(options)  {\r\n\r\n    options = options || {};\r\n\r\n    this.tools = DomService;\r\n\r\n    var scope = this;\r\n\r\n    var defaults = {\r\n        exceptions: ['mw-handle-item']\r\n    };\r\n\r\n    this.settings = ObjectService.extend({}, defaults, options);\r\n\r\n    if ( this.settings.root.nodeType === 9 ) {\r\n        this.document = this.settings.root;\r\n    } else {\r\n        this.document = this.settings.root.ownerDocument;\r\n    }\r\n    this.body = this.document.body;\r\n\r\n    var distanceMax = 20;\r\n\r\n    function distance(x1, y1, x2, y2) {\r\n        return Math.hypot(x2-x1, y2-y1);\r\n    }\r\n\r\n    function isInRange(el1, el2) {\r\n        return distance(el1, el2) <= distanceMax;\r\n    }\r\n\r\n    var validateNode = function (node) {\r\n        return node.type === 1;\r\n    };\r\n\r\n\r\n\r\n\r\n    var round5 = function (x){\r\n        return (x % 5) >= 2.5 ? (x / 5) * 5 + 5 : (x / 5) * 5;\r\n    };\r\n\r\n    var getNearCoordinates = function (x, y) {\r\n        x = round5(x);\r\n        y = round5(y);\r\n        var res = [];\r\n        var x1 = x - distanceMax;\r\n        var x1Max = x + distanceMax;\r\n        var y1 = y - distanceMax;\r\n        var y1Max = y + distanceMax;\r\n        for ( ; x1 < x1Max; x1 += 5) {\r\n            for ( ; y1 <= y1Max; y1 += 5 ) {\r\n                res.push([x1, y1]);\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n\r\n    var addNode = function (el, res) {\r\n        if(el && !!el.parentElement && res.indexOf(el) === -1 && scope.body !== el) {\r\n            res.push(el);\r\n        }\r\n    };\r\n\r\n    this.fromEvent = function (e) {\r\n         if(!scope.tools.hasAnyOfClassesOnNodeOrParent(e.target, this.settings.exceptions)) {\r\n             if(!scope.document._test){\r\n                 scope.document._test = document.createElement('div');\r\n                 scope.document._test.style.position = 'absolute';\r\n                 scope.document._test.style.left = '10px';\r\n\r\n                 scope.document._test.style.background =  'red';\r\n                 scope.document._test.style.width =  '10px';\r\n                 scope.document._test.style.height =  '10px';\r\n                 scope.document.body.appendChild(scope.document._test);\r\n             }\r\n             scope.document._test.style.top = e.pageY + 'px';\r\n             return this.fromPoint(e.pageX, e.pageY/* + scope.document.defaultView.scrollY*/);\r\n        }\r\n        return []\r\n    }\r\n    this.fromPoint = function (x, y) {\r\n        var res = [];\r\n        if(scope.document.defaultView.frameElement) {\r\n            // y += scope.document.defaultView.frameElement.getBoundingClientRect().y\r\n            y -= scope.document.defaultView.scrollY;\r\n        }\r\n\r\n        var el = scope.document.elementFromPoint(x, y);\r\n\r\n        if (!el ) return [];\r\n        addNode(el, res);\r\n        var dots = getNearCoordinates(x, y);\r\n        dots.forEach(function (coords){\r\n            addNode(scope.document.elementFromPoint(coords[0], coords[1]), res);\r\n        });\r\n        return res;\r\n    };\r\n};\r\n\r\n\r\n","export const Tooltip = (node, content, position) => {\r\n    if(!node || !content) return;\r\n    node = node.isMWElement ? node.get(0) : node;\r\n    node.dataset.tooltip = content;\r\n    node.title = content;\r\n    node.dataset.tooltipposition = position || 'top-center';\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {Handle} from \"./handle\";\nimport {GetPointerTargets} from \"./pointer\";\nimport {ModeAuto} from \"./mode-auto\";\nimport {Handles} from \"./handles\";\nimport {ObjectService} from \"../classes/object.service\";\nimport {DroppableElementAnalyzerService} from \"./analizer\";\nimport {DropIndicator} from \"./interact\";\nimport {ElementHandleContent} from \"./handles-content/element\";\nimport {ModuleHandleContent} from \"./handles-content/module\";\nimport {LayoutHandleContent} from \"./handles-content/layout\";\nimport {ElementManager} from \"../classes/element\";\nimport {lang} from \"./i18n\";\n\n\n\nexport class LiveEdit {\n\n    constructor(options) {\n\n        const scope = this;\n        const _e = {};\n        this.on = (e, f) => { _e[e] ? _e[e].push(f) : (_e[e] = [f]) };\n        this.dispatch = (e, f) => { _e[e] ? _e[e].forEach( (c) => { c.call(this, f); }) : ''; };\n\n        this.paused = false;\n\n        var defaults = {\n            elementClass: 'element',\n            backgroundImageHolder: 'background-image-holder',\n            cloneableClass: 'cloneable',\n            editClass: 'edit',\n            stateManager: null,\n            moduleClass: 'module',\n/*            rowClass: 'mw-row',\n            colClass: 'mw-col',\n            safeElementClass: 'safe-element',\n            plainElementClass: 'plain-text',\n            emptyElementClass: 'empty-element',*/\n            nodrop: 'nodrop',\n            allowDrop: 'allow-drop',\n            unEditableModules: [\n                '[type=\"template_settings\"]'\n            ],\n            frameworksClasses: {\n                col: ['col', 'mw-col']\n            },\n            document: document,\n            mode: 'manual', // 'auto' | 'manual'\n            lang: 'en',\n            strict: true, // element and modules should be dropped only in layouts\n            strictLayouts: false, // layouts can only exist as edit-field children\n            viewWindow: window,\n\n            // url or array\n            modules: [\n                {\n                    \"type\": \"layout\",\n                    \"directory\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/\",\n                    \"template_dir\": \"casamia\",\n                    \"name\": \"CLEAN CONTAINER\",\n                    \"position\": 0,\n                    \"layout_file\": \"skin-1.php\",\n                    \"filename\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-1.php\",\n                    \"screenshot_file\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-1.jpg\",\n                    \"screenshot\": \"https://unit.microweber.com/userfiles/templates/casamia/modules/layouts/templates/skin-1.jpg\",\n                    data: 'http://asas.com'\n                },\n                {\n                    \"type\": \"layout\",\n                    \"directory\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/\",\n                    \"template_dir\": \"casamia\",\n                    \"name\": \"lang Key\",\n                    \"position\": 0,\n                    \"layout_file\": \"skin-lang-key.php\",\n                    \"filename\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-lang-key.php\"\n                }\n            ],\n            xlayouts: 'https://unit.microweber.com/api/get_layouts_list_json',\n            layouts: [\n                {\n                    \"type\": \"layout\",\n                    \"directory\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/\",\n                    \"template_dir\": \"casamia\",\n                    \"name\": \"CLEAN CONTAINER\",\n                    \"position\": 0,\n                    \"layout_file\": \"skin-1.php\",\n                    \"filename\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-1.php\",\n                    \"screenshot_file\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-1.jpg\",\n                    \"screenshot\": \"https://unit.microweber.com/userfiles/templates/casamia/modules/layouts/templates/skin-1.jpg\"\n                },\n                {\n                    \"type\": \"layout\",\n                    \"directory\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/\",\n                    \"template_dir\": \"casamia\",\n                    \"name\": \"lang Key\",\n                    \"position\": 0,\n                    \"layout_file\": \"skin-lang-key.php\",\n                    \"filename\": \"/home/unitmicroweber/public_html/userfiles/templates/casamia/modules/layouts/templates/skin-lang-key.php\"\n                }\n            ],\n            loadModulesURL: 'http://localhost/mw2/module'\n        };\n\n        this.settings = ObjectService.extend({}, defaults, options);\n        this.document = this.settings.document;\n\n        this.stateManager = this.settings.stateManager;\n\n        this.lang = function (key) {\n            return lang(key, this.settings.lang);\n        }\n\n        if(!this.settings.root) {\n            this.settings.root = this.settings.document.body\n        }\n\n        this.root = this.settings.root;\n\n        this.elementAnalyzer = new DroppableElementAnalyzerService(this.settings);\n\n        this.dropIndicator = new DropIndicator(this.settings);\n\n        const elementHandleContent = new ElementHandleContent(this);\n        const moduleHandleContent = new ModuleHandleContent(this);\n        const layoutHandleContent = new LayoutHandleContent(this);\n\n        this.dialog = function (options) {\n            if(!options){\n                options = {}\n            }\n            var defaults = {\n                document: this.settings.document\n            }\n            return new Dialog(ObjectService.extend({}, defaults, options))\n        };\n\n        var elementHandle = new Handle({\n            ...this.settings,\n            dropIndicator: this.dropIndicator,\n            content: elementHandleContent.root,\n            handle: elementHandleContent.menu.title,\n            document: this.settings.document,\n            stateManager: this.settings.stateManager\n        });\n\n        elementHandle.on('targetChange', function (target){\n            elementHandleContent.menu.setTarget(target);\n            var title = '';\n            if(target.nodeName === 'P') {\n                title = scope.lang('Paragraph')\n            } else if(/(H[1-6])/.test(target.nodeName)) {\n                title = scope.lang('Title') + ' ' + target.nodeName.replace( /^\\D+/g, '');\n            } else if(target.nodeName === 'IMG' || target.nodeName === 'IMAGE') {\n                title = scope.lang('Image');\n            } else {\n                title = scope.lang('Text')\n            }\n            elementHandleContent.menu.setTitle(title);\n        });\n\n        var moduleHandle = new Handle({\n            ...this.settings,\n            dropIndicator: this.dropIndicator,\n            content: moduleHandleContent.root,\n            handle: moduleHandleContent.menu.title,\n            document: this.settings.document,\n            stateManager: this.settings.stateManager\n        });\n\n\n\n        moduleHandle.on('targetChange', function (node){\n            moduleHandleContent.menu.setTitle(node.dataset.type);\n        })\n\n        var layoutHandle = new Handle({\n            ...this.settings,\n            dropIndicator: this.dropIndicator,\n            content: layoutHandleContent.root,\n            handle: layoutHandleContent.menu.title,\n            document: this.settings.document,\n            stateManager: this.settings.stateManager,\n            type: 'layout'\n        });\n\n\n        var title = scope.lang('Layout');\n        layoutHandleContent.menu.setTitle(title)\n        layoutHandle.on('targetChange', function (target){\n            layoutHandleContent.menu.setTarget(target);\n            layoutHandleContent.menu.setTitle(title);\n            if( scope.elementAnalyzer.isEditOrInEdit(target)) {\n                layoutHandleContent.plusTop.show()\n                layoutHandleContent.plusBottom.show()\n            } else {\n                layoutHandleContent.plusTop.hide()\n                layoutHandleContent.plusBottom.hide()\n            }\n        });\n\n        layoutHandleContent.handle = layoutHandle;\n        moduleHandleContent.handle = moduleHandle;\n        elementHandleContent.handle = elementHandle;\n\n        this.handles = new Handles({\n            element: elementHandle,\n            module: moduleHandle,\n            layout: layoutHandle\n        });\n        this.observe = new GetPointerTargets(this.settings);\n        this.init();\n    }\n\n    play() {\n        this.paused = false;\n    }\n\n    pause() {\n        this.handles.hide();\n        this.paused = true;\n    }\n\n    init() {\n        if(this.settings.mode === 'auto') {\n            ModeAuto(this);\n        }\n\n         ElementManager(this.root).on('mousemove touchmove', (e) => {\n                if (!this.paused && e.pageX % 2 === 0) {\n                    const elements = this.observe.fromEvent(e);\n                    const first = elements[0];\n                    if(first) {\n                       const type = this.elementAnalyzer.getType(first);\n                       if(type && type !== 'edit') {\n                            this.handles.set(type, elements[0])\n                           if(type === 'element') {\n                               this.handles.hide('module')\n                           } else if(type === 'module') {\n                               this.handles.hide('element')\n                           }\n                       }\n                    }\n                }\n         });\n    };\n}\n\nglobalThis.LiveEdit = LiveEdit;\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;AC3fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;AC3TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}